---
title: "DDDでレガシーシステムを“壊さずに”変革する考え方"
emoji: "🎨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["ddd","設計","アーキテクチャ","リファクタリング"]
published: false
---

:::message
この記事は、xxx Advent Calendar 2025 15日目の記事です。  
昨日は xxx さんの「xxx」でした。
:::

https://qiita.com/advent-calendar/2025/linc-well


今回はO’Reilly のサブスクで読める **Domain-Driven Transformation** という本を読んだので
その本の感想と学びを書きたいと思います。

https://learning.oreilly.com/library/view/domain-driven-transformation/9798341640108/

この本は、DDDの設計解説がメインではなく、  
**システムを“壊さずに”どのように変革していくか** にフォーカスした内容で、
以前読んだ「ドメイン駆動設計をはじめよう」の13章にある「現実世界のドメイン駆動設計」をより深堀りしたような本でした。

https://learning.oreilly.com/library/view/domeinqu-dong-she-ji-wohazimeyou-sohutoueanoshi-zhuang-toshi-ye-zhan-lue-wojie-bitukerushi-jian-ji-fa/9784814400737/

## なぜシステムの刷新は失敗しやすいのか

システムの刷新が失敗しやすい理由には、いくつか共通点があると感じています。

- 先に「理想のアーキテクチャ」を決めてしまう  
- 現場の業務理解が追いついていない  
- チーム構成が旧システム前提のまま  
- 「完成後に切り替える」前提で進めてしまう  

結果として、

> 技術だけを置き換えようとして、  
> ビジネスと組織が置き去りになる  

という状態になりがちです。  
これが、これまで多くのシステムの刷新がうまくいかなかった大きな理由ではないかと感じました。


## この本が扱っているのは「設計」ではなく「変革」

DDD の書籍は、エンティティや値オブジェクト、集約やリポジトリに関する技法が中心になっているものも多いと思います。

一方で **Domain-Driven Transformation** がメインで扱っているのは、  
**「設計」そのものではなく、「変革のプロセス」そのもの** です。

本書では常に次の3つをセットで扱っています。

- ビジネス
- ソフトウェアアーキテクチャ
- チーム・組織構造

どれか1つだけを先に変えてしまうと、必ずどこかで歪みが生まれます。  
そのため、「3つを同時に、少しずつ動かし続ける」という考え方を一貫して語っていたのがとても印象的でした。


## いきなりマイクロサービスにしない

本書の中で、特に技術的な進め方として共感できた部分です。

> **まずはモジュラーモノリスを作る**

よくある失敗パターンとして、

- 境界が曖昧なままサービス分割
- データは共有、責務は不明確
- 障害時には全員が関わる
- 結局、モノリスよりも複雑になる  

という流れをよく見かけます。

それに対して本書では、

- まず **業務単位（ドメイン単位）で境界を明確にする**
- 物理的な分割（マイクロサービス化）は最後
- ロジックと責務が分かれていれば、配置はあとから変えられる  

という順番が徹底されています。


## 変革の出発点は「コード」ではなく「業務」

Domain-Driven Transformation では、変革の第一歩として以下のような  
**会話ベースのモデリング** が強く推奨されています。

- EventStorming  
- ドメインストーリーテリング  
- シナリオキャスティング  

ここで行うことはとてもシンプルです。

- このシステムは、どんな業務の流れを支えているのか  
- どんなイベントが発生しているのか  
- 人が悩むポイントはどこか  
- 属人化している判断はどこか  

多くのレガシーシステムでは、

- コードの奥に業務ロジックが埋もれている  
- ドキュメントには書かれていないルールが存在する  
- 特定の人しか知らない仕様がある  

という状態が当たり前になっています。

この **「暗黙知を可視化すること自体が、すでに変革の第一歩である」** という考え方が、実際に行動を起こす上で大切だなと改めて感じました


## 変革は4ステップで進める

本書では、ドメイン駆動変革を次の4ステップで進めていきます。

### Step1：ドメイン再発見

- 現場の業務フローを洗い出す  
- 価値の流れを可視化する  
- 暗黙知を言葉にする  

### Step2：ドメイン駆動の目標アーキテクチャを設計

- 境界づけられたコンテキストを定義  
- どこを分けるか、どこをまとめるかを決める  

### Step3：現状とのズレを可視化

- 今の構造と理想構造のギャップを見る  
- ボトルネックや技術的負債の集中点を把握する  

### Step4：優先順位をつけて段階的に実行

- 価値が高く、リスクが低いところから着手  
- 一気にやらない  
- 常に「動く状態」を維持する  

ここで一貫しているのは、

> **「正しさ」よりも「進め続けられること」を優先する**

という姿勢でした。


## この本がより実戦向きだと感じた理由

この本が単なる理論書で終わらないと感じた一番の理由は、  
次の3種類のリファクタリングをすべて同列に扱っている点です。

- 技術的リファクタリング  
- 戦略的リファクタリング  
- 社会技術的リファクタリング（組織・人）  

つまり、

- チーム構成を変えるのもリファクタリング  
- 責任分担を変えるのもリファクタリング  
- 意思決定フローを変えるのもリファクタリング  

という認識です。

「コードだけをきれいにしても意味がない」という現場のリアルを、  
かなり正面から扱っていると感じました。

## 技術スタックに依存しない実務的な示唆

この本から得られた、技術スタックに依存しない示唆を整理すると次のようになります。

- ✅ いきなり分散しない  
- ✅ まず業務の境界をはっきりさせる  
- ✅ 人が使っている言葉を設計の言葉にする  
- ✅ データ構造より「責務の境界」を優先する  
- ✅ 変革は機能開発に“寄生”させて少しずつ進める  

特定の言語やフレームワークに依存しない、非常に汎用性の高い内容だと感じました。


## まとめ

この本は **DDDは、きれいな設計を作るための技術ではなく、“壊さずに進化し続けるための技術”である。** と感じさせてくれる本でした。

Webアプリの保守や機能追加に関わっていると、  
「この構造、そろそろ限界かもしれない」と感じる瞬間が何度もあります。

「いっそ新しく作り直した方が早いのでは」と思うことも正直あります。  
しかし、現実には既存システムには多くの業務知識が詰まっており、簡単に捨てられるものでもありません。

システムは、止めずに、安全に、意図的に進化させる必要があると思います。

Domain-Driven Transformation は、そのための  
**現実的で実践的なロードマップをイメージさせてくれる一冊** でした。

とても面白い本でしたが、ブラウザ翻訳で読んだため解釈が怪しい部分もありました💦
日本語訳版が出ればまた読み直したいと思います。

